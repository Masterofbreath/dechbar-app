/**
 * Button Component - Brand Book 2.0 (Dark-First)
 * 
 * Premium tech-wellbeing design with gold CTAs and teal accents.
 * All colors reference design tokens for single source of truth.
 * 
 * @see /docs/brand/VISUAL_BRAND_BOOK.md - Button guidelines
 * @package DechBar_App
 * @subpackage Styles/Components
 */

/* ===================================
   BUTTON VARIABLES (reference tokens)
   =================================== */

:root {
  /* Primary button (Gold CTA) */
  --button-primary-bg: var(--color-accent);           /* Gold #D6A23A */
  --button-primary-bg-hover: var(--color-accent-light);  /* #F0C76A */
  --button-primary-bg-active: var(--color-accent-dark);  /* #B8892F */
  --button-primary-text: var(--color-background);     /* Dark #121212 */
  --button-primary-shadow: 0 8px 24px rgba(214, 162, 58, 0.3);
  --button-primary-shadow-hover: 0 12px 32px rgba(214, 162, 58, 0.4);
  
  /* Secondary button (Surface with border) */
  --button-secondary-bg: var(--color-surface);        /* #1E1E1E */
  --button-secondary-bg-hover: var(--color-surface-elevated); /* #2A2A2A */
  --button-secondary-text: var(--color-text-primary); /* #E0E0E0 */
  --button-secondary-border: var(--color-border);     /* #2A2A2A */
  --button-secondary-border-hover: var(--color-primary); /* Teal on hover */
  
  /* Ghost button (Transparent with teal text) */
  --button-ghost-text: var(--color-primary);          /* Teal #2CBEC6 */
  --button-ghost-hover: rgba(44, 190, 198, 0.1);      /* Teal 10% opacity */
  
  /* Button sizing */
  --button-padding-sm: 8px 16px;
  --button-padding-md: 12px 24px;
  --button-padding-lg: 16px 32px;
  --button-font-size-sm: 14px;
  --button-font-size-md: 16px;
  --button-font-size-lg: 18px;
  --button-border-radius: 12px;  /* Modern rounded (Brand Book) */
  
  /* Button transitions */
  --button-transition: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1); /* Apple timing */
}

/* ===================================
   BASE BUTTON STYLES
   =================================== */

.button {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: var(--button-padding-md);
  
  /* Typography */
  font-size: var(--button-font-size-md);
  font-family: var(--font-family-base);  /* Inter */
  font-weight: var(--font-weight-medium); /* 500 */
  letter-spacing: var(--letter-spacing-wide); /* 0.02em for buttons */
  line-height: 1.5;
  text-decoration: none;
  white-space: nowrap;
  
  /* Appearance */
  border: none;
  border-radius: var(--button-border-radius);
  background: transparent;
  cursor: pointer;
  
  /* Interaction */
  transition: var(--button-transition);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  
  /* States */
  position: relative;
  overflow: hidden;
  
  /* Accessibility - minimum touch target */
  min-height: 44px;
  min-width: 44px;
}

.button:focus-visible {
  outline: 2px solid var(--color-primary);  /* Teal focus ring */
  outline-offset: 2px;
}

/* ===================================
   BUTTON VARIANTS
   =================================== */

/* PRIMARY - Main CTA (Gold button with dark text) */
.button--primary {
  background: var(--button-primary-bg);      /* Gold #D6A23A */
  color: var(--button-primary-text);         /* Dark #121212 */
  font-weight: var(--font-weight-semibold);  /* 600 - more prominent */
  box-shadow: 
    0 4px 16px rgba(214, 162, 58, 0.3),  /* Gold glow */
    0 2px 4px rgba(0, 0, 0, 0.2);        /* Depth */
}

.button--primary:hover:not(:disabled) {
  background: var(--button-primary-bg-hover);  /* Lighter gold */
  transform: translateY(-2px);
  box-shadow: 
    0 6px 20px rgba(214, 162, 58, 0.4),  /* Stronger glow */
    0 4px 8px rgba(0, 0, 0, 0.3);
}

.button--primary:active:not(:disabled) {
  background: var(--button-primary-bg-active);  /* Darker gold */
  transform: translateY(0);
  box-shadow: 
    0 2px 8px rgba(214, 162, 58, 0.2),
    0 1px 2px rgba(0, 0, 0, 0.2);
}

/* SECONDARY - Surface button with border */
.button--secondary {
  background: var(--button-secondary-bg);      /* Dark surface #1E1E1E */
  color: var(--button-secondary-text);         /* Off-white #E0E0E0 */
  border: 1px solid var(--button-secondary-border);  /* #2A2A2A */
}

.button--secondary:hover:not(:disabled) {
  background: var(--button-secondary-bg-hover);  /* Elevated #2A2A2A */
  border-color: var(--button-secondary-border-hover);  /* Teal border */
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.button--secondary:active:not(:disabled) {
  background: var(--color-surface);
  transform: translateY(0);
}

/* GHOST - Transparent with teal text */
.button--ghost {
  background: transparent;
  color: var(--button-ghost-text);  /* Teal #2CBEC6 */
}

.button--ghost:hover:not(:disabled) {
  background: var(--button-ghost-hover);  /* Teal 10% */
  color: var(--color-primary-light);      /* Lighter teal */
}

.button--ghost:active:not(:disabled) {
  background: rgba(44, 190, 198, 0.15);
}

/* ===================================
   BUTTON SIZES
   =================================== */

.button--sm {
  padding: var(--button-padding-sm);
  font-size: var(--button-font-size-sm);
  border-radius: 8px;
  min-height: 36px;
}

.button--md {
  padding: var(--button-padding-md);
  font-size: var(--button-font-size-md);
  min-height: 44px;
}

.button--lg {
  padding: var(--button-padding-lg);
  font-size: var(--button-font-size-lg);
  border-radius: 16px;
  min-height: 52px;
}

/* ===================================
   BUTTON STATES
   =================================== */

/* Disabled */
.button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

/* Loading */
.button--loading {
  cursor: wait;
  pointer-events: none;
}

/* Full width */
.button--full-width {
  width: 100%;
}

/* ===================================
   LOADING SPINNER
   =================================== */

.button-spinner {
  animation: button-spin 1s linear infinite;
}

@keyframes button-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ===================================
   TEXT LINK (styled as interactive text)
   =================================== */

.text-link {
  /* Typography */
  display: inline;
  font-size: 14px;
  font-weight: var(--font-weight-semibold);  /* 600 */
  font-family: var(--font-family-base);      /* Inter */
  line-height: 1.5;
  text-decoration: none;
  
  /* Appearance */
  color: var(--color-primary);  /* Teal #2CBEC6 */
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  
  /* Interaction */
  transition: color 0.2s ease;
  position: relative;
}

/* Underline effect */
.text-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 1px;
  background: currentColor;
  opacity: 0.4;
  transition: opacity 0.2s ease;
}

.text-link:hover {
  color: var(--color-primary-light);  /* Lighter teal #6ADBE0 */
}

.text-link:hover::after {
  opacity: 1;
}

.text-link:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 4px;
  border-radius: 2px;
}

/* Text link variants */
.text-link--muted {
  color: var(--color-text-secondary);  /* #A0A0A0 */
}

.text-link--muted:hover {
  color: var(--color-text-primary);  /* #E0E0E0 */
}

.text-link--bold {
  font-weight: var(--font-weight-bold);  /* 700 */
}

/* ===================================
   RESPONSIVE - Mobile
   =================================== */

@media (max-width: 390px) {
  :root {
    --button-padding-md: 10px 20px;
    --button-padding-lg: 12px 24px;
  }
  
  .button--full-width {
    font-size: 16px; /* Prevent iOS zoom */
  }
}

/* ===================================
   ACCESSIBILITY
   =================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  .button--primary {
    border: 2px solid var(--color-background);
  }
  
  .button--secondary {
    border-width: 2px;
  }
  
  .button--ghost {
    text-decoration: underline;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .button,
  .text-link {
    transition: none;
  }
  
  .button:hover {
    transform: none;
  }
  
  .button-spinner {
    animation: none;
  }
}

/* ===================================
   PREMIUM MICROINTERACTIONS
   =================================== */

/* Ripple effect on click (subtle in dark mode) */
.button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);  /* Subtle white ripple on dark */
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.button:active::before {
  width: 300px;
  height: 300px;
}

/* Gold glow on primary button hover (premium touch) */
.button--primary:hover:not(:disabled) {
  box-shadow: var(--button-primary-shadow-hover),
              0 0 40px rgba(214, 162, 58, 0.2);  /* Subtle glow */
}

/* ===================================
   USAGE EXAMPLES
   =================================== */

/*
Primary CTA Button (Gold):
  <button class="button button--primary button--lg button--full-width">
    Start Practice â†’
  </button>

Secondary Button (Surface with border):
  <button class="button button--secondary button--md">
    Cancel
  </button>

Ghost Button (Transparent with teal):
  <button class="button button--ghost button--sm">
    Learn More
  </button>

Text Link (Teal, underlined on hover):
  <button class="text-link text-link--bold">
    Forgot password?
  </button>
*/
