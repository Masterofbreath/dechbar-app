/**
 * Audio Player Component Styles
 * 
 * Apple Premium Design:
 * - Glassmorphism (blur + rgba overlays)
 * - Gold accent (#D6A23A) for CTAs
 * - Teal (#2CBEC6) for focus/unplayed
 * - Warm Black (#121212) background
 * - Smooth animations (Apple ease cubic-bezier)
 * 
 * @version 2.43.0
 */

/* ============================================================
   STICKY PLAYER
   ============================================================ */

.sticky-player {
  /* Glassmorphism effect */
  background: rgba(30, 30, 30, 0.95);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  
  /* Border (subtle) */
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  
  /* Shadow (subtle top shadow) */
  box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.4);
  
  /* Safe areas (iOS notch, Android gesture bar) */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Expanded animation */
.sticky-player--expanded {
  animation: slideUp 300ms cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes slideUp {
  from {
    height: 60px;
    opacity: 0.9;
  }
  to {
    height: 400px;
    opacity: 1;
  }
}

/* ============================================================
   WAVEFORM
   ============================================================ */

.waveform {
  /* Defined in component via Tailwind */
}

.waveform-bar {
  /* Base styles in component */
  cursor: pointer;
  border: none;
  padding: 0;
}

/* Hover effect */
.waveform-bar:hover {
  opacity: 0.6 !important;
  transform: scaleY(1.15);
}

/* Active (pressed) */
.waveform-bar:active {
  transform: scaleY(0.95);
}

/* Mobile: Smaller gaps */
@media (max-width: 768px) {
  .waveform {
    gap: 1px;
    height: 60px;
  }
}

/* ============================================================
   PLAY/PAUSE BUTTON
   ============================================================ */

/* Gold glow shadow (defined via Tailwind .shadow-gold) */
.shadow-gold {
  box-shadow: 0 4px 12px rgba(214, 162, 58, 0.3);
}

/* Pressed state */
.active\:scale-95:active {
  transform: scale(0.95);
  box-shadow: 0 2px 8px rgba(214, 162, 58, 0.5);
}

/* Spring bounce animation */
.transition-spring {
  transition: transform 200ms cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

/* ============================================================
   FULLSCREEN PLAYER OVERRIDES
   ============================================================ */

/* Use existing fullscreen-modal styles + these overrides */

.fullscreen-modal .player-cover {
  width: 200px;
  height: 200px;
  border-radius: 16px;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
  object-fit: cover;
}

@media (max-width: 768px) {
  .fullscreen-modal .player-cover {
    width: 150px;
    height: 150px;
  }
}

/* ============================================================
   ANIMATIONS (Apple ease)
   ============================================================ */

/* Fullscreen modal slide up */
@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(32px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fullscreen-modal .fullscreen-modal__container {
  animation: modalSlideUp 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* ============================================================
   ACCESSIBILITY
   ============================================================ */

/* Ensure focus rings visible */
.waveform-bar:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .sticky-player,
  .waveform-bar,
  .fullscreen-modal .fullscreen-modal__container {
    animation: none;
    transition: none;
  }
}

/* ============================================================
   UTILITY CLASSES (Tailwind extensions)
   ============================================================ */

/* Scale Y hover (for waveform bars) */
.hover\:scale-y-115:hover {
  transform: scaleY(1.15);
}

/* ============================================================
   Z-INDEX HIERARCHY
   ============================================================ */

:root {
  --z-bottom-nav: 1000;
  --z-sticky-player: 998;
  --z-modal-overlay: 10000;
  --z-modal-container: 10001;
}
