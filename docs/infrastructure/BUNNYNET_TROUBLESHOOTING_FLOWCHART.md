# ğŸ”§ Bunny.net Troubleshooting Flowchart

**Pro rychlÃ© Å™eÅ¡enÃ­ problÃ©mÅ¯**

---

## ğŸš¨ Upload selhal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upload selhal - co dÄ›lat?             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ JakÃ½ error kÃ³d? â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚            â”‚            â”‚
     â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   401   â”‚  â”‚   403   â”‚  â”‚   413   â”‚  â”‚ Network â”‚
â”‚Unauthor.â”‚  â”‚Forbiddenâ”‚  â”‚Too Largeâ”‚  â”‚  Error  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚            â”‚
     â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Zkontroluj VITE_BUNNY_ACCESS_KEY v .env     â”‚
â”‚ 2. MusÃ­ bÃ½t Storage Zone PASSWORD (UUID-like)  â”‚
â”‚ 3. NE API Key (dlouhÃ½ hexadecimal)             â”‚
â”‚ 4. Restart dev server: npm run dev             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚ 1. OtevÅ™i Bunny Dashboard       â”‚
     â”‚            â”‚ 2. Pull Zones â†’ dechbar-cdn     â”‚
     â”‚            â”‚ 3. Security â†’ Allowed Referrers â”‚
     â”‚            â”‚ 4. PÅ™idej: localhost:5173       â”‚
     â”‚            â”‚ 5. Wait 1-2 min (cache clear)   â”‚
     â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                        â”‚
     â”‚                        â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                        â”‚            â”‚ 1. Soubor je >100MBâ”‚
     â”‚                        â”‚            â”‚ 2. Compress audio  â”‚
     â”‚                        â”‚            â”‚ 3. Nebo implementujâ”‚
     â”‚                        â”‚            â”‚    chunked upload  â”‚
     â”‚                        â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                        â”‚                        â”‚
     â”‚                        â”‚                        â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                        â”‚                        â”‚            â”‚ 1. Retry     â”‚
     â”‚                        â”‚                        â”‚            â”‚ 2. Check WiFiâ”‚
     â”‚                        â”‚                        â”‚            â”‚ 3. Check VPN â”‚
     â”‚                        â”‚                        â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼                        â–¼                        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         âœ… VYÅ˜EÅ ENO!                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ–¼ï¸ CDN delivery selhal (403 Forbidden)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ObrÃ¡zek/Audio se nenaÄÃ­tÃ¡ (403)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Zkontroluj Referrer Policy v Bunny     â”‚
â”‚                                         â”‚
â”‚ Bunny Dashboard â†’ Pull Zones â†’         â”‚
â”‚ dechbar-cdn â†’ Security â†’                â”‚
â”‚ Allowed Referrers                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MÄ›lo by tam bÃ½t:                        â”‚
â”‚ âœ… localhost:5173                       â”‚
â”‚ âœ… 127.0.0.1:5173                       â”‚
â”‚ âœ… zdravedychej.cz                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Je tam vÅ¡echno? â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚
         â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ANO  â”‚        â”‚   NE     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚
         â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hard refresh:   â”‚  â”‚ PÅ™idej chybÄ›jÃ­cÃ­:   â”‚
â”‚ Cmd+Shift+R     â”‚  â”‚ localhost:5173      â”‚
â”‚                 â”‚  â”‚ Wait 1-2 min        â”‚
â”‚ VyÄkej 1-2 min  â”‚  â”‚ Hard refresh        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ âœ… VYÅ˜EÅ ENO!  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Debug Checklist

Projdi postupnÄ›:

### Step 1: Credentials
```bash
cd dechbar-app/
cat .env.local | grep BUNNY
```
âœ… MÄ›lo by vrÃ¡tit 4 Å™Ã¡dky s VITE_BUNNY_*

### Step 2: Dev server
```bash
npm run dev
```
âœ… MÄ›l by bÄ›Å¾et na http://localhost:5173

### Step 3: Console
OtevÅ™i F12 â†’ Console â†’ Hledej errors:
- âŒ "401 Unauthorized" â†’ Å patnÃ½ AccessKey
- âŒ "403 Forbidden" â†’ Referrer policy
- âŒ "Failed to fetch" â†’ Network/CORS issue

### Step 4: Network tab
F12 â†’ Network â†’ Filtr: "bunny" â†’ Najdi failed request:
- Click na request â†’ Headers â†’ Zkontroluj:
  - Request URL sprÃ¡vnÃ¡?
  - AccessKey header pÅ™Ã­tomnÃ½?
  - Status code?

### Step 5: Bunny Dashboard
```
Bunny Dashboard â†’ Storage â†’ dechbar-audio
â†’ VidÃ­Å¡ soubory? Ano = upload funguje, problÃ©m je s CDN delivery
â†’ NevidÃ­Å¡? = upload selhÃ¡vÃ¡, zkontroluj credentials
```

---

## ğŸ“ Help!

### ProblÃ©m pÅ™etrvÃ¡vÃ¡?

1. **PÅ™eÄti full docs:** `BUNNYNET_CDN_INTEGRATION.md` â†’ Section 8
2. **Zkontroluj uploadService.ts:** Line-by-line debugging
3. **Test curl:** Zkus upload pÅ™es curl (mimo browser)
4. **Kontaktuj tÃ½m:** PoÅ¡li error log + Console screenshot

---

## âœ… Success Checklist

Upload funguje, kdyÅ¾:
- [ ] Console: Å½Ã¡dnÃ© errors
- [ ] Network tab: 201 Created (upload) + 200 OK (CDN delivery)
- [ ] Bunny Dashboard: Soubor viditelnÃ½ v storage
- [ ] Browser: Audio/image se pÅ™ehraje/zobrazÃ­
- [ ] Progress bar: Zobrazil se bÄ›hem uploadu

---

*Pro vÃ­ce info: ÄŒti BUNNYNET_CDN_INTEGRATION.md*
